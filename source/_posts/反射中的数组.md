---
title: 反射中的数组
date: 2014-11-03 11:32
categories: Java
tags: 反射
---

首先，拿到一个Class，可以通过如下方式来判断是否是一个数组类型：
```java
Class<?> c = f.getType();
if(c.isArray()){
   ...
}
```

可以通过：
```java
c.getComponentType()
```
来获取到数组元素的类型。

然后，可以通过下面的方式来创建一个数组：
```java
Object o = Array.newInstance(c, n);
```
添加数组元素到数组中：
```java
val = ...//构建数组元素 
Array.set(o, i, val);
```

下面的oo就是最后的结果了：
```
Object[] oo = (Object[])o;
```java
>参考：
>1. [http://docs.oracle.com/javase/tutorial/reflect/special/arrayComponents.html](http://docs.oracle.com/javase/tutorial/reflect/special/arrayComponents.html)
>2. [http://docs.oracle.com/javase/tutorial/reflect/special/arrayInstance.html](http://docs.oracle.com/javase/tutorial/reflect/special/arrayInstance.html)

