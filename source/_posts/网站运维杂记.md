---
title: 网站运维杂记
date: 2017-05-07 02:36
categories: 运维
tags: 
- 交换区
- tomcat
- firewall
---

# MySQL错误：The server quit without updating PID file(xxx/xxx/xxx.pid)
网上有N多重原因可以导致这个错误，这里增加一条，my.cnf被编辑到一半是异常退出也会导致这个问题。由于网络原因，我再编辑my.cnf的时候突然断开了。然后在打开vi的时候，被告知在交换区有内容需要处理。这时候一定不能忽视它，一定要仔细根据说明将交换区的内容处理掉。

# 处理交换区（swap）的内容
Linux的说明就已经很详细了：
```bash
E325: ATTENTION
Found a swap file by the name ".a.txt.swp"
          owned by: root   dated: Sun May  7 02:35:31 2017
         file name: /usr/local/tomcat8/bin/a.txt
          modified: YES
         user name: root   host name: iz8vbbqbnh4ug2q9so5jflz
        process ID: 4114 (still running)
While opening file "a.txt"
             dated: Sun May  7 02:35:21 2017

(1) Another program may be editing the same file.  If this is the case,
    be careful not to end up with two different instances of the same
    file when making changes.  Quit, or continue with caution.
(2) An edit session for this file crashed.
    If this is the case, use ":recover" or "vim -r a.txt"
    to recover the changes (see ":help recovery").
    If you did this already, delete the swap file ".a.txt.swp"
    to avoid this message.

```


# CentOS 7 防火墙
不用iptables了，用：
```bash
systemctl stop firewalld
systemctl mask firewalld
```
