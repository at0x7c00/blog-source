---
title: JSTL
date: 2014-04-24 15:28
categories: Java
tags: jstl
---
<p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 14px; vertical-align: baseline; clear: both; font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height: 17.804800033569336px;"> JSTL(JSP标准标签库) 是一套基于JSP的标准标签库，可以用它来控制JSP页面中的流程、<a target="_blank" href="http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/tld-summary.html">格式化数字和日期和国际化</a>，另外还有一些实用的EL函数。.</p> 
<p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 14px; vertical-align: baseline; clear: both; font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height: 17.804800033569336px;"> JSTL还提供了SQL和XML标签，来在JSP中执行SQL和解析XML，但在实际使用当中不建议在JSP中使用这些功能，这些功能一般应该在一个真正的Java类和Servlet中来做。</p> 
<p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 14px; vertical-align: baseline; clear: both; font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height: 17.804800033569336px;"> JSTL是Java EE的一部分，并已经包含在了大多数 (但不是所有) servlet容器中。通过<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">http://java.sun.som/jsp/jstl/*</code>可以引入JSTL标签. 请不要将JSTL标签和自定义JSP标签(你自己在<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">.tld</code>文件中定义的)搞混了. JSTL 和其他第三方标签也不一样，例如 JSF、 Spring MVC、 Struts、 Displaytag、 etcetera、 JSTL.。更别和<a target="_blank" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent; color: rgb(74,107,130); text-decoration: none;" href="http://stackoverflow.com/tags/el/info">EL</a>表达式混淆。</p> 
<h3 style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-size: 15px; vertical-align: baseline; font-family: 'Trebuchet MS','Liberation Sans','DejaVu Sans',sans-serif; line-height: 1.3;"> JSTL版本</h3> 
<p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 14px; vertical-align: baseline; clear: both; font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height: 17.804800033569336px;"> JSTL 有以下几种不同的版本：</p> 
<ul style="margin: 0px 0px 1em 30px; padding: 0px; border: 0px; font-size: 14px; vertical-align: baseline; line-height: 17.804800033569336px;"> 
 <li style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline;"> <p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; vertical-align: baseline; clear: both;"> <span style="font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; margin: 0px; padding: 0px; border: 0px; vertical-align: baseline;">1.0</span><span style="font-family: Arial,Liberation Sans,DejaVu Sans,sans-serif;">: 由</span><code style="font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; background-color: rgb(238,238,238); margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; white-space: pre-wrap;">jstl.jar</code><span style="font-family: Arial,Liberation Sans,DejaVu Sans,sans-serif;">(API接口)和</span><code style="font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; background-color: rgb(238,238,238); margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; white-space: pre-wrap;">standard.jar</code><span style="font-family: Arial,Liberation Sans,DejaVu Sans,sans-serif;">(实现)两个文件组成. 标签引入的URI中不包含</span><code style="font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; background-color: rgb(238,238,238); margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; white-space: pre-wrap;">/jsp</code><span style="font-family: Arial,Liberation Sans,DejaVu Sans,sans-serif;">，例如</span><code style="font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; background-color: rgb(238,238,238); margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; white-space: pre-wrap;">http://java.sun.com/jstl/core</code><span style="font-family: Arial,Liberation Sans,DejaVu Sans,sans-serif;">，原型版本中还带有名称后缀</span><code style="font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; background-color: rgb(238,238,238); margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; white-space: pre-wrap;">_rt</code><code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(255,255,255);"><span style="font-family: Arial,Liberation Sans,DejaVu Sans,sans-serif;">，例如</span></code><code style="font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; background-color: rgb(238,238,238); margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; white-space: pre-wrap;">http://java.sun.com/jstl/core_rt。</code><span style="font-family: Arial,Liberation Sans,DejaVu Sans,sans-serif;">必须运行在 Servlet 2.3 / JSP 1.2上。这个版本已经快要终结，不推荐继续使用了。</span></p> </li> 
 <li style="font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> <p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; vertical-align: baseline; background-color: transparent; clear: both;"> <span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">1.1</span>: 和1.0的文件组成是一样的. 但是标签引入的URL包含了<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">/jsp</code><span style="background-color: transparent;">，例如</span><code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">http://java.sun.com/jsp/jstl/core</code><span style="background-color: transparent;">. 运行在 Servlet 2.4 / JSP 2.0规范上。</span></p> </li> 
 <li style="font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> <p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; vertical-align: baseline; background-color: transparent; clear: both;"> <span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline;">1.2</span>: 只有<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">jstl-1.2.jar</code>(API接口+实现)一个jar文件。<span style="font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-size: 14px; line-height: 17.804800033569336px;">引入标签URL和1.1相同</span>。运行在Servlet 2.5 / JSP 2.1规范上，但是也兼容Servlet 2.4 / JSP 2.0 规范。</p> </li> 
 <li style="font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> <p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; vertical-align: baseline; background-color: transparent; clear: both;"> <span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">1.2.1</span>: 由<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">javax.servlet.jsp.jstl-api-1.2.1</code>(API接口) and<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">javax.servlet.jsp.jstl-1.2.1.jar</code>(实现) 两个jar文件组成，引入标签URL和1.1相同。运行在Servlet 3.0 / JSP 2.2 规范上，同时兼容Servlet 2.5 / JSP 2.1 和 Servlet 2.4 / JSP 2.0。</p> </li> 
 <li style="font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> <p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; vertical-align: baseline; background-color: transparent; clear: both;"> <span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">Facelets</span>: 它是JSP接班人, 包含部分JSTL 1.2 核心标签和全部的JSTL 1.2 函数。需要JSTL 1.2. For Facelets 1.x the XML namespace URI is<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">http://java.sun.com/jstl/core</code>and for Facelets 2.x the XML namespace URI is<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">http://java.sun.com/jsp/jstl/core</code>with (confusingly!) the<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">/jsp</code>part and from Facelets 2.2 onwards the namespace URI is<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">http://xmlns.jcp.org/jsp/jstl/core</code>.</p> </li> 
</ul> 
<p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 14px; vertical-align: baseline; clear: both; font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height: 17.804800033569336px;"> 大多数但不是全部的servlet容器内置了JSTL， 例如Apache Tomcat 就不包含JSTL， 但Oracle的Glassfish就包含了。 你可以通过查看jar文件中的<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">MANIFEST.MF</code>文件来确定其准确版本。</p> 
<h3 style="margin: 0px 0px 1em; padding: 0px; border: 0px; font-size: 15px; vertical-align: baseline; font-family: 'Trebuchet MS','Liberation Sans','DejaVu Sans',sans-serif; line-height: 1.3;"> 安装JSTL</h3> 
<p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 14px; vertical-align: baseline; clear: both; font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height: 17.804800033569336px;"> 非常简单：</p> 
<ol style="margin: 0px 0px 1em 30px; padding: 0px; border: 0px; font-size: 14px; vertical-align: baseline; font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height: 17.804800033569336px;"> 
 <li style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> <p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; vertical-align: baseline; background-color: transparent; clear: both;"> 仅仅当你的servlet容器不包含JSTL的时候（例如Tomcat）才需要安装，直接将jar文件放到<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">Webapp/WEB-INF/lib</code>中即可。</p> </li> 
 <li style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> <p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; vertical-align: baseline; background-color: transparent; clear: both;"> 使用正确的TLD URI定义标签。 例如：</p> <pre class="lang-html prettyprint prettyprinted" style="margin-top: 0px; margin-bottom: 10px; padding: 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; overflow: auto; width: auto;"><code style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: inherit;"><span class="pun" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">&lt;%@</span><span class="pln" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> taglib prefix</span><span class="pun" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">=</span><span class="str" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent; color: rgb(128,0,0);">"c"</span><span class="pln" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> uri</span><span class="pun" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">=</span><span class="str" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent; color: rgb(128,0,0);">"http://java.sun.com/jsp/jstl/core"</span><span class="pln" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> %&gt;</span></code></pre> <p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; vertical-align: baseline; background-color: transparent; clear: both;"> 如果你使用的是Facelets或者JSPX，应该使用XML命名空间的方式来声明：</p> <pre class="lang-html prettyprint prettyprinted" style="margin-top: 0px; margin-bottom: 10px; padding: 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; overflow: auto; width: auto;"><code style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: inherit;"><span class="tag" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent; color: rgb(128,0,0);">&lt;anyxmlelement</span><span class="pln" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> </span><span class="atn" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent; color: rgb(255,0,0);">xmlns:c</span><span class="pun" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">=</span><span class="atv" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent; color: rgb(0,0,255);">"http://java.sun.com/jsp/jstl/core"</span><span class="tag" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent; color: rgb(128,0,0);">&gt;</span></code></pre> </li> 
</ol> 
<p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 14px; vertical-align: baseline; clear: both; font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height: 17.804800033569336px;"> 为了避免冲突，你需要确保在classpath中美有重复的旧的JSTL版本(包括<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">JRE/lib</code>和<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">Appserver/lib</code>)。如果你对服务器拥有管理员级别权限， 那么你应该讲jar文件放到<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">Appserver/lib</code>中，而不是<code style="margin: 0px; padding: 1px 5px; border: 0px; vertical-align: baseline; background-color: rgb(238,238,238); font-family: Consolas,Menlo,Monaco,'Lucida Console','Liberation Mono','DejaVu Sans Mono','Bitstream Vera Sans Mono','Courier New',monospace,serif; white-space: pre-wrap;">Webapp/WEB-INF/lib</code>下面，因为这样其他部署在webapps中的应用就都能使用它了。</p> 
<p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 14px; vertical-align: baseline; clear: both; font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height: 17.804800033569336px;"> 摘选自<a target="_blank" href="http://stackoverflow.com/tags/jstl/info">http://stackoverflow.com/tags/jstl/info</a></p> 
<p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 14px; vertical-align: baseline; clear: both; font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height: 17.804800033569336px;"> 总结：</p> 
<p style="margin-top: 0px; margin-bottom: 1em; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 14px; vertical-align: baseline; clear: both; font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; line-height: 17.804800033569336px;"> <span style="font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-size: 14px; line-height: 17.804800033569336px;">当碰到类似找不到</span><span style="font-family: Arial,'Liberation Sans','DejaVu Sans',sans-serif; font-size: 14px; line-height: 17.804800033569336px;">javax.servlet.jsp.jstl.core.LoopTag类定义的问题时，说明你的运行的tomcat下没有包含jstl api了。根据不同的版本的jstl，应该将对应的文件放到tomcat_home/lib下。要想正常使用jstl，光有api还不行，还得有对应的实现，而有时这两个文件都在一起，比如jstl 1.2。</span><br></p>